{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Crowd"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The crowd is the big beast of the navigation features. It not only handles a"},{"type":"text","text":" "},{"type":"text","text":"lot of the path management for you, but also local steering and dynamic"},{"type":"text","text":" "},{"type":"text","text":"avoidance between members of the crowd. I.e. It can keep your agents from"},{"type":"text","text":" "},{"type":"text","text":"running into each other."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/NavMeshQuery"},{"type":"text","text":" and "},{"type":"codeVoice","code":"PathCorridor"},{"type":"text","text":" classes provide perfectly good, easy"},{"type":"text","text":" "},{"type":"text","text":"to use path planning features. But in the end they only give you points that"},{"type":"text","text":" "},{"type":"text","text":"your navigation client should be moving toward. When it comes to deciding things"},{"type":"text","text":" "},{"type":"text","text":"like agent velocity and steering to avoid other agents, that is up to you to"},{"type":"text","text":" "},{"type":"text","text":"implement. Unless, of course, you decide to use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To use, you add an agent to the crowd, providing various configuration"},{"type":"text","text":" "},{"type":"text","text":"settings such as maximum speed and acceleration. You also provide a local"},{"type":"text","text":" "},{"type":"text","text":"target to more toward. The crowd manager then provides, with every update, the"},{"type":"text","text":" "},{"type":"text","text":"new agent position and velocity for the frame. The movement will be"},{"type":"text","text":" "},{"type":"text","text":"constrained to the navigation mesh, and steering will be applied to ensure"},{"type":"text","text":" "},{"type":"text","text":"agents managed by the crowd do not collide with each other."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This is very powerful feature set. But it comes with limitations."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The biggest limitation is that you must give control of the agent’s position"},{"type":"text","text":" "},{"type":"text","text":"completely over to the crowd manager. You can update things like maximum speed"},{"type":"text","text":" "},{"type":"text","text":"and acceleration. But in order for the crowd manager to do its thing, it can’t"},{"type":"text","text":" "},{"type":"text","text":"allow you to constantly be giving it overrides to position and velocity. So"},{"type":"text","text":" "},{"type":"text","text":"you give up direct control of the agent’s movement. It belongs to the crowd."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The second biggest limitation revolves around the fact that the crowd manager"},{"type":"text","text":" "},{"type":"text","text":"deals with local planning. So the agent’s target should never be more than"},{"type":"text","text":" "},{"type":"text","text":"256 polygons aways from its current position. If it is, you risk"},{"type":"text","text":" "},{"type":"text","text":"your agent failing to reach its target. So you may still need to do long"},{"type":"text","text":" "},{"type":"text","text":"distance planning and provide the crowd manager with intermediate targets."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Other significant limitations:"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"All agents using the crowd manager will use the same "},{"type":"codeVoice","code":"QueryFilter"},{"type":"text","text":"."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Crowd management is relatively expensive. The maximum agents under crowd"},{"type":"text","text":" "},{"type":"text","text":"management at any one time is between 20 and 30.  A good place to start"},{"type":"text","text":" "},{"type":"text","text":"is a maximum of 25 agents for 0.5ms per frame."}]}]}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/swiftnavigation\/crowd"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Crowds implement local steering and dynamic avoidance features."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Crowd"}],"title":"Crowd","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:15SwiftNavigation5CrowdC","modules":[{"name":"SwiftNavigation"}],"navigatorTitle":[{"kind":"identifier","text":"Crowd"}]},"hierarchy":{"paths":[["doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation"]]},"topicSections":[{"title":"Structures","identifiers":["doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/ObstacleAvoidanceConfig"]},{"title":"Instance Properties","identifiers":["doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/maxAgentCount"]},{"title":"Instance Methods","identifiers":["doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/addAgent(_:params:)","doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/addAgent(_:radius:height:maxAcceleration:maxSpeed:collisionQueryRange:pathOptimizationRange:updateFlags:obstableAvoidanceType:queryFilterIndex:separationWeight:)","doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/getObstacleAvoidance(idx:)","doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/remove(agent:)","doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/setObstableAvoidance(idx:config:)","doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/update(time:)"]},{"title":"Enumerations","identifiers":["doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/CrowdError"]}],"references":{"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/addAgent(_:params:)":{"role":"symbol","title":"addAgent(_:params:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"addAgent"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"SIMD3","preciseIdentifier":"s:s5SIMD3V"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":">, "},{"kind":"externalParam","text":"params"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CrowdAgent","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Params","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC6ParamsV"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"CrowdAgent","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Adds a new agent to the crowd using a configuration structure with the initial parameters"}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/addAgent(_:params:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/addagent(_:params:)"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/CrowdError":{"role":"symbol","title":"Crowd.CrowdError","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"CrowdError"}],"abstract":[{"type":"text","text":"Errors raised by the Crowd subsystem"}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/CrowdError","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CrowdError"}],"url":"\/documentation\/swiftnavigation\/crowd\/crowderror"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/maxAgentCount":{"role":"symbol","title":"maxAgentCount","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"maxAgentCount"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"}],"abstract":[{"type":"text","text":"The maximum number of agents that can be managed by the object."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/maxAgentCount","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/maxagentcount"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/remove(agent:)":{"role":"symbol","title":"remove(agent:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"remove"},{"kind":"text","text":"("},{"kind":"externalParam","text":"agent"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CrowdAgent","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Removes an agent from the crowd"}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/remove(agent:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/remove(agent:)"},"doc://SwiftNavigation/documentation/SwiftNavigation":{"role":"collection","title":"SwiftNavigation","abstract":[{"type":"text","text":"Create and use navigation meshes in your Swift and RealityKit applications."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/addAgent(_:radius:height:maxAcceleration:maxSpeed:collisionQueryRange:pathOptimizationRange:updateFlags:obstableAvoidanceType:queryFilterIndex:separationWeight:)":{"role":"symbol","title":"addAgent(_:radius:height:maxAcceleration:maxSpeed:collisionQueryRange:pathOptimizationRange:updateFlags:obstableAvoidanceType:queryFilterIndex:separationWeight:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"addAgent"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"SIMD3","preciseIdentifier":"s:s5SIMD3V"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":">, "},{"kind":"externalParam","text":"radius"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":", "},{"kind":"externalParam","text":"height"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":", "},{"kind":"externalParam","text":"maxAcceleration"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":", "},{"kind":"externalParam","text":"maxSpeed"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":", "},{"kind":"externalParam","text":"collisionQueryRange"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"pathOptimizationRange"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":"?, "},{"kind":"externalParam","text":"updateFlags"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CrowdAgent","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"UpdateFlags","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC11UpdateFlagsV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"obstableAvoidanceType"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UInt8","preciseIdentifier":"s:s5UInt8V"},{"kind":"text","text":", "},{"kind":"externalParam","text":"queryFilterIndex"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UInt8","preciseIdentifier":"s:s5UInt8V"},{"kind":"text","text":", "},{"kind":"externalParam","text":"separationWeight"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"CrowdAgent","preciseIdentifier":"s:15SwiftNavigation10CrowdAgentC"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Adds a new agent to the crowd, convenience function that takes many optional arguments and default to some suitable values"}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/addAgent(_:radius:height:maxAcceleration:maxSpeed:collisionQueryRange:pathOptimizationRange:updateFlags:obstableAvoidanceType:queryFilterIndex:separationWeight:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/addagent(_:radius:height:maxacceleration:maxspeed:collisionqueryrange:pathoptimizationrange:updateflags:obstableavoidancetype:queryfilterindex:separationweight:)"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/getObstacleAvoidance(idx:)":{"role":"symbol","title":"getObstacleAvoidance(idx:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getObstacleAvoidance"},{"kind":"text","text":"("},{"kind":"externalParam","text":"idx"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"Crowd","preciseIdentifier":"s:15SwiftNavigation5CrowdC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"ObstacleAvoidanceConfig","preciseIdentifier":"s:15SwiftNavigation5CrowdC23ObstacleAvoidanceConfigV"}],"abstract":[{"type":"text","text":"Returns the obstacle avoidance configuration for a specific slot"}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/getObstacleAvoidance(idx:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/getobstacleavoidance(idx:)"},"doc://SwiftNavigation/documentation/SwiftNavigation/NavMeshQuery":{"role":"symbol","title":"NavMeshQuery","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"NavMeshQuery"}],"abstract":[{"type":"text","text":"NavMeshQuery is used to perform path finding queries in the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/NavMesh"},{"type":"text","text":" and is created"},{"type":"text","text":" "},{"type":"text","text":"by calling the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/NavMesh\/makeQuery(maxNodes:)"},{"type":"text","text":" method.   That sets up some"},{"type":"text","text":" "},{"type":"text","text":"costly internal data structures."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/NavMeshQuery","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"NavMeshQuery"}],"url":"\/documentation\/swiftnavigation\/navmeshquery"},"doc://SwiftNavigation/documentation/SwiftNavigation/NavMesh/makeQuery(maxNodes:)":{"role":"symbol","title":"makeQuery(maxNodes:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"makeQuery"},{"kind":"text","text":"("},{"kind":"externalParam","text":"maxNodes"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"NavMeshQuery","preciseIdentifier":"s:15SwiftNavigation12NavMeshQueryC"}],"abstract":[{"type":"text","text":"Creates a query object, used to find paths"}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/NavMesh\/makeQuery(maxNodes:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/navmesh\/makequery(maxnodes:)"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/setObstableAvoidance(idx:config:)":{"role":"symbol","title":"setObstableAvoidance(idx:config:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"setObstableAvoidance"},{"kind":"text","text":"("},{"kind":"externalParam","text":"idx"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":", "},{"kind":"externalParam","text":"config"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Crowd","preciseIdentifier":"s:15SwiftNavigation5CrowdC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"ObstacleAvoidanceConfig","preciseIdentifier":"s:15SwiftNavigation5CrowdC23ObstacleAvoidanceConfigV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Sets the shared avoidance configuration for the specified index."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/setObstableAvoidance(idx:config:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/setobstableavoidance(idx:config:)"},"doc://SwiftNavigation/documentation/SwiftNavigation/NavMesh":{"role":"symbol","title":"NavMesh","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"NavMesh"}],"abstract":[{"type":"text","text":"Mesh that can be navigated and queried."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/NavMesh","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"NavMesh"}],"url":"\/documentation\/swiftnavigation\/navmesh"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/ObstacleAvoidanceConfig":{"role":"symbol","title":"Crowd.ObstacleAvoidanceConfig","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ObstacleAvoidanceConfig"}],"abstract":[{"type":"text","text":"Obstacle configuration information, you can create up to eight of these and set them"},{"type":"text","text":" "},{"type":"text","text":"on the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd"},{"type":"text","text":" instance by calling "},{"type":"reference","isActive":true,"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/setObstableAvoidance(idx:config:)"},{"type":"text","text":"."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/ObstacleAvoidanceConfig","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"ObstacleAvoidanceConfig"}],"url":"\/documentation\/swiftnavigation\/crowd\/obstacleavoidanceconfig"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd/update(time:)":{"role":"symbol","title":"update(time:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"update"},{"kind":"text","text":"("},{"kind":"externalParam","text":"time"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Update the simulation."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd\/update(time:)","kind":"symbol","type":"topic","url":"\/documentation\/swiftnavigation\/crowd\/update(time:)"},"doc://SwiftNavigation/documentation/SwiftNavigation/Crowd":{"role":"symbol","title":"Crowd","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Crowd"}],"abstract":[{"type":"text","text":"Crowds implement local steering and dynamic avoidance features."}],"identifier":"doc:\/\/SwiftNavigation\/documentation\/SwiftNavigation\/Crowd","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Crowd"}],"url":"\/documentation\/swiftnavigation\/crowd"}}}